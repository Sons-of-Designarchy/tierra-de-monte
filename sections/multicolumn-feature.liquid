{{ 'section-multicolumn.css' | asset_url | stylesheet_tag }}
{{ 'component-slider.css' | asset_url | stylesheet_tag }}

{%- style -%}
  /* IBM Plex Mono */
  @font-face{
    font-family:"IBM Plex Mono";
    src:url({{ 'IBMPlexMono-Light.woff2' | asset_url }}) format("woff2");
    font-weight:300; font-style:normal; font-display:swap;
  }

  /* Section padding */
  .section-{{ section.id }}-padding{
    padding-top:{{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom:{{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }
  @media (min-width:750px){
    .section-{{ section.id }}-padding{
      padding-top:{{ section.settings.padding_top }}px;
      padding-bottom:{{ section.settings.padding_bottom }}px;
    }
  }

  /* Eyebrow row (full width above both columns) */
  #shopify-section-{{ section.id }} .mc-eyebrow-row{
    grid-column:1 / -1;            /* span both columns */
    margin-bottom:2rem;
    padding-bottom:1rem;
    border-bottom:1px solid {{ section.settings.divider_color }};
  }
  #shopify-section-{{ section.id }} .mc-eyebrow{
    font-family:var(--font-body-family);
    font-size:12px; letter-spacing:.12em; text-transform:uppercase; opacity:.8;
  }
  #shopify-section-{{ section.id }} .mc-eyebrow__rule{
    width:100%; max-width:none; height:2px; background:{{ section.settings.rule_color }}; margin-top:8px;
  }

  /* Two-column layout */
  #shopify-section-{{ section.id }} .mc-feature__grid{ display:grid; gap:24px; }
  @media (min-width:990px){
    #shopify-section-{{ section.id }} .mc-feature__grid{
      grid-template-columns:5fr 7fr; gap:48px; align-items:start;
    }
  }

  /* Left column basics */
  #shopify-section-{{ section.id }} .mc-feature__lead{ display:flex; flex-direction:column; gap:16px; }
  #shopify-section-{{ section.id }} .mc-heading{ margin:0; }
  #shopify-section-{{ section.id }} .mc-desc{ color:rgb(var(--color-foreground), .8); }
  #shopify-section-{{ section.id }} .mc-cta-wrap{ margin-top:8px; }

  /* Description typography */
  #shopify-section-{{ section.id }} .rte.mc-desc--mono,
  #shopify-section-{{ section.id }} .mc-desc--mono{
    font-family:"IBM Plex Mono","Courier New",Courier,monospace!important;
    font-weight:400; letter-spacing:-0.04em!important; line-height:1.8rem; text-transform:uppercase;
    font-synthesis-weight:none; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  #shopify-section-{{ section.id }} .mc-desc--mono *{
    font-family:inherit!important; font-weight:inherit!important; line-height:inherit!important;
    letter-spacing:inherit!important; text-transform:inherit!important;
  }
  #shopify-section-{{ section.id }} .rte.mc-desc--body,
  #shopify-section-{{ section.id }} .mc-desc--body{
    font-family:var(--font-body-family); font-weight:400; letter-spacing:.02em; line-height:1.8rem;
  }

  /* Right column (multicolumn) */
  #shopify-section-{{ section.id }} .multicolumn__title{ display:none; }

  /* Make images sit at the bottom of each card */
  @media (min-width:990px){
    /* let grid children stretch */
    #Slider-{{ section.id }}.grid{ align-items:stretch!important; }
    #Slider-{{ section.id }} .grid__item{ min-height:0!important; }

    /* li wraps a full-height flex card */
    #shopify-section-{{ section.id }} .multicolumn-list__item{
      display:flex!important; align-items:stretch!important;
      border-left:none!important; padding-left:0;                 /* no divider lines */
    }

    /* card stacks; image pushed to bottom */
    #shopify-section-{{ section.id }} .multicolumn-card.content-container{
      display:flex!important; flex-direction:column!important; flex:1 1 auto!important;
      min-height:100%!important; padding-bottom:0!important;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__info{ order:1; margin-bottom:0!important; }
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper{
      order:3; margin-top:auto!important; width:100%; border-radius:8px; overflow:hidden;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper.multicolumn-card-spacing{ margin-bottom:0!important; }

    /* neutralize Dawn media padding */
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper .media{
      position:relative; padding-bottom:0!important; height:auto!important; display:block;
      border-radius:8px; overflow:hidden;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__image{
      position:static!important; width:100%!important; height:auto!important; object-fit:cover!important; display:block!important;
    }
  }

  /* Stat sizes (kept) */
  #shopify-section-{{ section.id }} .multicolumn-card h3:not(.mc-stat){
    font-size:clamp(61px,6vw,96px); line-height:1; margin:0 0 4px;
  }
  #shopify-section-{{ section.id }} .mc-stat{ line-height:1; margin:0 0 4px; font-size:var(--stat-size-m,48px); }
  @media (min-width:750px){ #shopify-section-{{ section.id }} .mc-stat{ font-size:var(--stat-size-d,72px); } }
  #shopify-section-{{ section.id }} .mc-stat--heading{ font-family:var(--font-heading-family); font-weight:var(--font-heading-weight); letter-spacing:var(--heading-letter-spacing,0); }
  #shopify-section-{{ section.id }} .mc-stat--body{ font-family:var(--font-body-family); font-weight:600; }
  #shopify-section-{{ section.id }} .mc-stat--mono{
    font-family:"IBM Plex Mono",ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    font-weight:300; letter-spacing:.02em; font-synthesis-weight:none;
  }
  /* paste-proof */
  #shopify-section-{{ section.id }} .mc-stat :is(h1,h2,h3,h4,h5,h6,p,div,span){ all:unset; font:inherit; line-height:inherit; display:inline; }
{%- endstyle -%}

{%- style -%}
  /* Columns: restore left border + enforce vh height (desktop) */
  @media (min-width: 990px){
    /* 0) expose per-section height from settings */
    #shopify-section-{{ section.id }}{
      --mcf-height: {{ section.settings.height_desktop_value | default: 60 }}{{ section.settings.height_desktop_unit | default: 'vh' }};
    }

    /* 1) Make the UL let children stretch */
    #Slider-{{ section.id }}.grid{ align-items: stretch !important; }
    #Slider-{{ section.id }} .grid__item{ min-height: 0 !important; }

    /* 2) Each column (LI) gets a fixed height in vh and flex so the card can fill it */
    #shopify-section-{{ section.id }} .multicolumn-list__item{
      display: flex !important;
      align-items: stretch !important;
      height: var(--mcf-height) !important;   /* ← uses your vh/px setting */
    }

    /* 3) Only the OUTER left border (no inner dividers) */
    #shopify-section-{{ section.id }} .multicolumn-list__item:first-child{
      border-left: 1px solid {{ section.settings.divider_color }};
      padding-left: 8px;                      /* small breathing room from rule */
    }
    #shopify-section-{{ section.id }} .multicolumn-list__item + .multicolumn-list__item{
      border-left: none !important;           /* kill mid-column lines */
      padding-left: 0 !important;
    }

    /* 4) Card stacks; image pinned to bottom (keeps your current behavior) */
    #shopify-section-{{ section.id }} .multicolumn-card.content-container{
      display: flex !important;
      flex-direction: column !important;
      flex: 1 1 auto !important;
      min-height: 100% !important;
      padding-bottom: 0 !important;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__info{ order: 1; margin-bottom: 16px !important; }
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper{
      order: 3;
      margin-top: auto !important;            /* pins to bottom */
      width: 100%; border-radius: 8px; overflow: hidden;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper.multicolumn-card-spacing{ margin-bottom: 16px !important; }

    /* 5) Neutralize Dawn ratio padding so images don’t “float” */
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper .media{
      position: relative !important;
      padding-bottom: 0 !important;
      height: auto !important;
      display: block !important;
      border-radius: 8px; overflow: hidden;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__image{
      position: static !important;
      width: 100% !important;
      height: auto !important;
      object-fit: cover !important;
      display: block !important;
    }
  }
{%- endstyle -%}

{%- style -%}
  /* Bring back the single LEFT border on the very first column */
  #Slider-{{ section.id }} .multicolumn-list__item:first-child{
    border-left: 1px solid {{ section.settings.divider_color }} !important;
    padding-left: 8px !important;
  }

  /* Card stacks; image stays pinned to bottom (keeps your current behavior) */
  #shopify-section-{{ section.id }} .multicolumn-card.content-container{
    display: flex !important;
    flex-direction: column !important;
    flex: 1 1 auto !important;
    min-height: 100% !important;
    padding-bottom: 0 !important;
  }
  #shopify-section-{{ section.id }} .multicolumn-card__info{ order: 1; margin-bottom: 16px !important; }
  #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper{
    order: 3;
    margin-top: auto !important;
    width: 100%;
    border-radius: 8px; overflow: hidden;
  }
  #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper .media{
    position: relative !important;
    padding-bottom: 0 !important;
    height: auto !important;
    display: block !important;
    border-radius: 8px; overflow: hidden;
  }
  #shopify-section-{{ section.id }} .multicolumn-card__image{
    position: static !important;
    width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
    display: block !important;
  }
{%- endstyle -%}

{%- style -%}
  /* Force left border on ALL columns + enforce per-section height */
  @media (min-width: 990px){
    /* Expose height from Theme Editor (vh/px) */
    #shopify-section-{{ section.id }}{
      --mcf-height: {{ section.settings.height_desktop_value | default: 60 }}{{ section.settings.height_desktop_unit | default: 'vh' }};
    }

    /* Let grid items stretch */
    #Slider-{{ section.id }}.grid{ align-items: stretch !important; }
    #Slider-{{ section.id }} .grid__item{ min-height: 0 !important; }

    /* Apply to every LI directly under this UL */
    #shopify-section-{{ section.id }} #Slider-{{ section.id }} > li.multicolumn-list__item{
      display: flex !important;
      align-items: stretch !important;
      height: var(--mcf-height) !important;
      border-left: 1px solid {{ section.settings.divider_color }} !important;
      padding-left: 8px !important;
    }

    /* Re-assert even when a sibling selector tries to remove it */
    #shopify-section-{{ section.id }} #Slider-{{ section.id }} > li.multicolumn-list__item + li.multicolumn-list__item{
      border-left: 1px solid {{ section.settings.divider_color }} !important;
      padding-left: 8px !important;
    }

    /* Card fills the column; image pinned to bottom (unchanged) */
    #shopify-section-{{ section.id }} .multicolumn-card.content-container{
      display: flex !important;
      flex-direction: column !important;
      flex: 1 1 auto !important;
      min-height: 100% !important;
      padding-bottom: 0 !important;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__info{ order: 1; margin-bottom: 16px !important; }
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper{
      order: 3; margin-top: auto !important; width: 100%;
      border-radius: 8px; overflow: hidden;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__image-wrapper .media{
      position: relative !important; padding-bottom: 0 !important; height: auto !important; display: block !important;
      border-radius: 8px; overflow: hidden;
    }
    #shopify-section-{{ section.id }} .multicolumn-card__image{
      position: static !important; width: 100% !important; height: auto !important; object-fit: cover !important; display: block !important;
    }
  }
{%- endstyle -%}

{%- style -%}
              /* ─────────────────────────────────────────────────────────
                 Multicolumn — Feature (Dawn 15.4.0) — Refactor Tablet
                 ───────────────────────────────────────────────────────── */

              /* Tablet fix */
              @media (min-width: 750px) and (max-width: 989.98px) {
                /* Contenedor + 2 columnas */
                #shopify-section-{{ section.id }} .multicolumn-list,
                .multicolumn .multicolumn-list {
                  display: grid !important;

                  gap: 24px !important;
                  scroll-snap-type: none !important;
                  padding:0;
                }
            }

            /* ─────────────────────────────────────────────────────────
             Tablet-only: 2 filas (lead arriba, columnas abajo)
             Mantiene desktop (dos columnas) y mobile como ya lo tengas.
             ───────────────────────────────────────────────────────── */
          @media (min-width: 750px) and (max-width: 989.98px) {
            /* 1) Definimos áreas en la grid del contenedor */
            .multicolumn .mc-feature__grid {
              grid-template-areas:
                "lead"
                "cols";

              margin-inline: auto;
              padding-inline: clamp(16px, 4vw, 40px);
            }

            /* Rejilla de items: 2-up si cabe, 1-up si no cabe el mínimo */
            .multicolumn .mc-feature__cols .multicolumn-list {
              display: grid !important;
              grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)) !important;
              gap: 24px !important;
              scroll-snap-type: none !important;
            }
            .multicolumn .mc-feature__cols .multicolumn-list__item {
              width: auto !important;
              flex: initial !important;
              min-width: 0 !important;
              scroll-snap-align: none !important;
            }


            .multicolumn .mc-feature__cols .multicolumn-list__item:first-child {
              border-left: 1px solid var(--mcf-rule, {{ section.settings.rule_color | default: '#fff' }});
              padding-left: 8px;
            }
            /* ─────────────────────────────────────────────────────────
           Tablet: make list items WIDER and fill the container
           - Break Dawn's grid presets
           - Remove inner max-width caps
           - Give each card a generous min width
           ───────────────────────────────────────────────────────── */
        @media (min-width: 750px) and (max-width: 989.98px) {
          /* The second row wrapper (where your <ul> lives) should span full container */
          .multicolumn .mc-feature__cols {
            width: 100%;
            margin-left: 0;
            margin-right: 0;

          }

          /* Remove width caps that Dawn sets on this utility class */
          .multicolumn .mc-feature__cols .multicolumn-list.contains-content-container {
            max-width: none !important;
            width: 100% !important;
            padding: 0 !important;
          }

          /* Override Dawn's grid utility classes and make items FILL the row */
          .multicolumn .mc-feature__cols .multicolumn-list {
            display: grid !important;

            /* Two fat columns that expand to fill the container.
               If there isn't enough room, it gracefully drops to 1 column. */
            grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)) !important;

            /* If you want them even wider, bump 420px to 460/480px */
            column-gap: clamp(16px, 4vw, 32px) !important;
            row-gap: clamp(16px, 3vw, 28px) !important;

            /* Kill any snap behavior from the slider */
            scroll-snap-type: none !important;
          }

          /* Let the grid control widths; avoid slider/flex constraints */
          .multicolumn .mc-feature__cols .multicolumn-list__item {
            width: auto !important;
            max-width: none !important;
            min-width: 0 !important;
            flex: initial !important;
            scroll-snap-align: none !important;
          }

          /* Make sure the card itself doesn't clamp width */
          .multicolumn .mc-feature__cols .multicolumn-card.content-container {
            max-width: none !important;
            width: 100% !important;
            padding: 0;
          }

          /* Image keeps healthy height, not squished */
          .multicolumn .mc-feature__cols .multicolumn-card__image-wrapper .media {
            position: relative !important;
            display: block !important;
            width: 100%;

            height: auto !important;
            padding: 0 !important;     /* neutralize media--adapt padding trick */
          }
          .multicolumn .mc-feature__cols .multicolumn-card__image-wrapper .media > img {
            position: absolute !important;
            inset: 0 !important;
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
            display: block !important;
          }
        }
       }
       @media (min-width: 750px) and (max-width: 989.98px) {
        .multicolumn .mc-feature__cols .multicolumn-list {
          display: grid !important;
          gap: clamp(16px, 3.5vw, 28px) !important;
          scroll-snap-type: none !important;
          max-width: none !important;
          width: 100% !important;
          padding: 0 !important;
          grid-template-columns: 1fr; /* default */
        }
        .multicolumn .mc-feature__cols .multicolumn-list__item {
          width: auto !important;
          min-width: 0 !important;
          flex: initial !important;
          scroll-snap-align: none !important;
        }

        .multicolumn .mc-feature__cols .multicolumn-list[data-count="2"] {
          grid-template-columns: repeat(2, 1fr) !important;
        }
        .multicolumn .mc-feature__cols .multicolumn-list[data-count="3"] {
          grid-template-columns: repeat(3, 1fr) !important;
        }
        /* Optional: for 4+ items, keep 3 cols on tablet */
        .multicolumn .mc-feature__cols .multicolumn-list[data-count]:not([data-count="1"]):not([data-count="2"]):not([data-count="3"]) {
          grid-template-columns: repeat(3, 1fr) !important;
        }
      }


    /* Tablet: force LEFT BORDER on ALL items (wins over older rules) */
    @media (min-width: 750px) and (max-width: 989.98px) {
      /* paint all li */
      #shopify-section-{{ section.id }} .mc-feature__cols .multicolumn-list__item {
        border-left: 1px solid rgb(var(--color-foreground)) !important;
        padding-left: 8px !important;
      }

      /* just in case something earlier was nuking borders on siblings */
      #shopify-section-{{ section.id }} .mc-feature__cols .multicolumn-list__item + .multicolumn-list__item {
        border-left: 1px solid rgb(var(--color-foreground)) !important;
      }
    }
    /* Tablet: force a left border on EVERY column item */
  @media (min-width: 750px) and (max-width: 989.98px) {
    /* Generic (works across sections) */
    .multicolumn .mc-feature__cols .multicolumn-list > li.multicolumn-list__item {
      border-left: 1px solid var(--mcf-rule, #294e3f) !important;
      padding-left: 8px !important;
    }

    /* Ultra-specific override (wins even if older rules target #Slider... or :first-child) */
    .multicolumn .mc-feature__cols
    ul.multicolumn-list[id^="Slider-"] > li.multicolumn-list__item {
      border-left: 1px solid rgb(var(--color-foreground)) !important;
      padding-left: 8px !important;
    }

    /* In case a "first-child only" rule is still lurking, re-assert for all */
    .multicolumn .mc-feature__cols
    ul.multicolumn-list[id^="Slider-"] > li.multicolumn-list__item:first-child {
      border-left: 1px solid rgb(var(--color-foreground)) !important;
    }
  }
{%- endstyle -%}

{% style %}
  /* === GLOBAL Multicolumn Feature responsive tweaks === */

  /* Container: keep things nicely boxed */
  .multicolumn {
    padding-inline: 16px;
  }

  .multicolumn .page-width {
    max-width: var(--page-width, 1200px);
    margin-inline: auto;
  }

  /* Mobile: 1 item per row */
  @media (max-width: 749.98px) {
    .multicolumn .button {
      margin-top: 0rem !important;
    }
    .mc-feature__lead {
      margin-bottom: 3rem;
    }

    .multicolumn-list:not(.slider) {
      padding-left: 0;
      padding-right: 0;
    }
    .multicolumn-list {
      display: grid !important;
      grid-template-columns: 1fr !important; /* ✅ 1 item per row */
      row-gap: 24px;
    }

    .multicolumn-list__item {
      width: 100% !important;
      max-width: none !important;
      margin: 0 !important;
    }

    /* Prevent horizontal clipping from sliders */
    slider-component {
      overflow: visible !important;
    }
  }
{% endstyle %}
{% style %}
  /* Multicolumn Feature — force LEFT border on ALL items (mobile only) */
  @media (max-width: 749.98px) {
    /* Target ALL multicolumn-feature lists created by Dawn (their UL ids start with "Slider-") */
    .multicolumn .mc-feature__cols ul[id^='Slider-'] > li.multicolumn-list__item {
      border-left: 1px solid var(--mcf-rule, rgb(var(--color-foreground))) !important;
      padding-left: 8px !important;
    }

    /* Re-assert for every sibling (beats rules that only style :first-child or remove on siblings) */
    .multicolumn .mc-feature__cols ul[id^='Slider-'] > li.multicolumn-list__item + li.multicolumn-list__item {
      border-left: 1px solid var(--mcf-rule, rgb(var(--color-foreground))) !important;
      padding-left: 8px !important;
    }

    /* Extra specificity when inside the slider-component wrapper (common in Dawn) */
    .multicolumn slider-component ul[id^='Slider-'] > li.multicolumn-list__item {
      border-left: 1px solid var(--mcf-rule, rgb(var(--color-foreground))) !important;
      padding-left: 8px !important;
    }
  }
{% endstyle %}

{%- liquid
  assign columns_mobile_int = section.settings.columns_mobile | plus: 0
  assign show_mobile_slider = false
  if section.settings.swipe_on_mobile and section.blocks.size > columns_mobile_int
    assign show_mobile_slider = true
  endif
-%}

<div class="multicolumn color-{{ section.settings.color_scheme }} gradient">
  <div
    class="page-width section-{{ section.id }}-padding isolate{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
    {% if settings.animations_reveal_on_scroll %}
      data-cascade
    {% endif %}
  >
    <div class="mc-feature__grid">
      {%- comment -%} FULL-WIDTH EYEBROW ROW (moved outside the left column) {%- endcomment -%}
      {% if section.settings.pretitle != blank %}
        <div class="mc-eyebrow-row">
          <div class="mc-eyebrow">
            {{ section.settings.pretitle }}
            {% if section.settings.show_rule %}
              <div class="mc-eyebrow__rule" aria-hidden="true"></div>
            {% endif %}
          </div>
        </div>
      {% endif %}

      <!-- Left: Title + Description + CTA -->
      <div class="mc-feature__lead">
        {% if section.settings.title != blank %}
          <h2 class="mc-heading title inline-richtext {{ section.settings.heading_size }}">
            {{ section.settings.title }}
          </h2>
        {% endif %}

        {% if section.settings.description != blank %}
          <div class="mc-desc rte">{{ section.settings.description }}</div>
        {% endif %}

        {% if section.settings.button_label != blank %}
          <div class="mc-cta-wrap">
            <a
              class="button button--primary"
              {% if section.settings.button_link == blank %}
                role="link" aria-disabled="true"
              {% else %}
                href="{{ section.settings.button_link }}"
              {% endif %}
            >
              {{ section.settings.button_label | escape }}
            </a>
          </div>
        {% endif %}
      </div>

      <!-- Right: Columns / Stats -->
      <div class="mc-feature__cols">
        <slider-component class="slider-mobile-gutter">
          <ul
            id="Slider-{{ section.id }}"
            data-count="{{ section.blocks.size }}"
            class="multicolumn-list contains-content-container grid grid--{{ section.settings.columns_mobile }}-col-tablet-down grid--{{ section.settings.columns_desktop }}-col-desktop{% if show_mobile_slider %} slider slider--tablet grid--peek{% endif %}"
            role="list"
          >
            {%- for block in section.blocks -%}
              {%- assign empty_column = '' -%}
              {%- if block.settings.image == blank
                and block.settings.title == blank
                and block.settings.text == blank
                and block.settings.link_label == blank
              -%}
                {%- assign empty_column = ' multicolumn-list__item--empty' -%}
              {%- endif -%}

              <li
                id="Slide-{{ section.id }}-{{ forloop.index }}"
                class="multicolumn-list__item grid__item{% if section.settings.swipe_on_mobile %} slider__slide{% endif %}{% if section.settings.column_alignment == 'center' %} center{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}{{ empty_column }}"
                {{ block.shopify_attributes }}
                {% if settings.animations_reveal_on_scroll %}
                  data-cascade style="--animation-order: {{ forloop.index }};"
                {% endif %}
              >
                <div class="multicolumn-card content-container">
                  <div class="multicolumn-card__info">
                    {% if block.settings.title != blank %}
                      <h3
                        class="inline-richtext mc-stat mc-stat--{{ block.settings.stat_font | default: 'heading' }}"
                        style="--stat-size-m: {{ block.settings.stat_size_mobile | default: 48 }}px; --stat-size-d: {{ block.settings.stat_size_desktop | default: 72 }}px;"
                      >
                        {{ block.settings.title }}
                      </h3>
                    {% endif %}

                    {% if block.settings.text != blank %}
                      <div class="rte {{ block.settings.desc_font | default: 'body' | prepend: 'mc-desc--' }}">
                        {{ block.settings.text }}
                      </div>
                    {% endif %}

                    {% if block.settings.link_label != blank %}
                      <a
                        class="link animate-arrow"
                        {% if block.settings.link == blank %}
                          role="link" aria-disabled="true"
                        {% else %}
                          href="{{ block.settings.link }}"
                        {% endif %}
                      >
                        {{- block.settings.link_label | escape -}}
                        <span class="svg-wrapper"
                          ><span class="icon-wrap">&nbsp;{{ 'icon-arrow.svg' | inline_asset_content }}</span></span
                        >
                      </a>
                    {% endif %}
                  </div>

                  {% if block.settings.image != blank %}
                    <div class="multicolumn-card__image-wrapper multicolumn-card__image-wrapper--{{ section.settings.image_width | default: 'full' }}-width multicolumn-card-spacing">
                      <div class="media media--transparent media--adapt">
                        {{
                          block.settings.image
                          | image_url: width: 3200
                          | image_tag:
                            class: 'multicolumn-card__image',
                            loading: 'lazy',
                            sizes: '(min-width: 1400px) calc((1400px - 116px) * 1 / 2), (min-width: 990px) calc((100vw - 116px) * 1 / 2), (min-width: 750px) calc((100vw - 100px) * 1 / 1), calc((100vw - 30px) * 1 / 1)'
                        }}
                      </div>
                    </div>
                  {% endif %}
                </div>
              </li>
            {%- endfor -%}
          </ul>

          {% if show_mobile_slider %}
            <div class="slider-buttons large-up-hide">
              <button
                type="button"
                class="slider-button slider-button--prev"
                name="previous"
                aria-label="{{ 'general.slider.previous_slide' | t }}"
              >
                <span class="svg-wrapper">{{ 'icon-caret.svg' | inline_asset_content }}</span>
              </button>
              <div class="slider-counter caption">
                <span class="slider-counter--current">1</span><span aria-hidden="true"> / </span>
                <span class="visually-hidden">{{ 'general.slider.of' | t }}</span>
                <span class="slider-counter--total">{{ section.blocks.size }}</span>
              </div>
              <button
                type="button"
                class="slider-button slider-button--next"
                name="next"
                aria-label="{{ 'general.slider.next_slide' | t }}"
              >
                <span class="svg-wrapper">{{ 'icon-caret.svg' | inline_asset_content }}</span>
              </button>
            </div>
          {% endif %}
        </slider-component>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Multicolumn — Feature",
  "class": "section",
  "tag": "section",
  "disabled_on": { "groups": ["header", "footer"] },
  "settings": [
    {
      "type": "inline_richtext",
      "id": "pretitle",
      "label": "Pre-title (eyebrow)",
      "default": "SOLUCIONES ESTRATÉGICAS, RESULTADOS EXCEPCIONALES"
    },
    { "type": "color", "id": "rule_color", "label": "Eyebrow rule color", "default": "#294E3F" },
    { "type": "checkbox", "id": "show_rule", "label": "Show eyebrow rule", "default": true },

    {
      "type": "inline_richtext",
      "id": "title",
      "label": "Title",
      "default": "Efecto Tierra de monte\nInnovación que siembra futuro"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Nuestros productos están respaldados por ciencia y diseñados para trabajar en equilibrio con la naturaleza...</p>"
    },

    { "type": "text", "id": "button_label", "label": "Button label", "default": "Encuentra tu solución" },
    { "type": "url", "id": "button_link", "label": "Button link" },

    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        { "value": "h2", "label": "H2" },
        { "value": "h1", "label": "H1" },
        { "value": "h0", "label": "H0" },
        { "value": "hxl", "label": "HXL" },
        { "value": "hxxl", "label": "HXXL" }
      ],
      "default": "h1"
    },

    { "type": "header", "content": "Layout" },
    {
      "type": "range",
      "id": "columns_desktop",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 3,
      "label": "Columns on desktop"
    },

    { "type": "header", "content": "Mobile" },
    {
      "type": "select",
      "id": "columns_mobile",
      "options": [
        { "value": "1", "label": "1" },
        { "value": "2", "label": "2" }
      ],
      "default": "1",
      "label": "Columns on mobile"
    },
    { "type": "checkbox", "id": "swipe_on_mobile", "default": false, "label": "Swipe on mobile" },

    { "type": "header", "content": "Visual" },
    { "type": "color_scheme", "id": "color_scheme", "label": "Color scheme", "default": "background-1" },

    { "type": "header", "content": "Padding" },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Column",
      "settings": [
        {
          "type": "select",
          "id": "desc_font",
          "label": "Description font",
          "options": [
            { "value": "body", "label": "Regular body" },
            { "value": "mono", "label": "Monospace (IBM Plex Mono Light)" }
          ],
          "default": "body"
        },
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "inline_richtext", "id": "title", "label": "Heading / Stat", "default": "+230" },
        {
          "type": "select",
          "id": "stat_font",
          "label": "Heading/Stat font style",
          "options": [
            { "value": "heading", "label": "Theme heading" },
            { "value": "body", "label": "Theme body (bold)" },
            { "value": "mono", "label": "Monospace (IBM Plex Mono Light)" }
          ],
          "default": "heading"
        },
        {
          "type": "range",
          "id": "stat_size_mobile",
          "label": "Heading/Stat size (mobile, px)",
          "min": 24,
          "max": 72,
          "step": 1,
          "unit": "px",
          "default": 48
        },
        {
          "type": "range",
          "id": "stat_size_desktop",
          "label": "Heading/Stat size (desktop, px)",
          "min": 40,
          "max": 140,
          "step": 1,
          "unit": "px",
          "default": 72
        },
        { "type": "richtext", "id": "text", "label": "Text", "default": "<p>Hectáreas regeneradas</p>" },
        { "type": "text", "id": "link_label", "label": "Link label" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [
    { "name": "Multicolumn — Feature", "blocks": [{ "type": "column" }, { "type": "column" }, { "type": "column" }] }
  ]
}
{% endschema %}
