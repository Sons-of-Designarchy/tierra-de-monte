{% comment %}
  Article Nav â€” segmented 2 buttons
  Left: back to blog; Right: next article (disabled if none)
  Dawn 15.4.0 safe
{% endcomment %}

{% style %}
  .section-{{ section.id }}-padding{
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }
  @media (min-width:750px){
    .section-{{ section.id }}-padding{
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  /* Segmented pill */
  #shopify-section-{{ section.id }} .anav{
    display:grid;
    grid-template-columns:1fr 1fr;
    align-items:stretch;
    border:1px solid currentColor;
    border-radius:9999px;
    overflow:hidden;
  }
  #shopify-section-{{ section.id }} .anav__btn{
    display:flex;align-items:center;justify-content:center;
    min-height:48px;padding:.9rem 1.2rem;
    text-decoration:none;border:0;background:transparent;color:currentColor;line-height:1;
    white-space:nowrap;
  }
  #shopify-section-{{ section.id }} .anav__btn + .anav__btn{border-left:1px solid currentColor}
  #shopify-section-{{ section.id }} .anav__btn--next{ background: {{ section.settings.next_bg }}; }

  #shopify-section-{{ section.id }} .anav__btn[aria-disabled="true"]{
    opacity:.45;pointer-events:none;
  }
  @media (prefers-reduced-motion:no-preference){
    #shopify-section-{{ section.id }} .anav__btn:focus-visible{outline:2px solid currentColor;outline-offset:2px}
  }
{% endstyle %}

<section class="section-{{ section.id }}-padding color-scheme-{{ section.settings.color_scheme }} gradient">
  <div class="page-width">
    <nav class="anav" aria-label="Article navigation">
      <a class="anav__btn anav__btn--back" href="{{ blog.url }}">
        {{ section.settings.back_label }}
      </a>

      {% assign next_article = article.next %}
      {% if next_article %}
        <a class="anav__btn anav__btn--next" href="{{ next_article.url }}">
          {{ section.settings.next_label }}
        </a>
      {% else %}
        <span class="anav__btn anav__btn--next" aria-disabled="true">
          {{ section.settings.next_label }}
        </span>
      {% endif %}
    </nav>
  </div>
</section>

{% schema %}
{
  "name": "Custom article nav",
  "class": "section--article-nav",
  "settings": [
    { "type": "text", "id": "back_label", "label": "Back label", "default": "Regresar" },
    { "type": "text", "id": "next_label", "label": "Next label", "default": "Siguiente blog" },
    { "type": "color", "id": "next_bg", "label": "Next background", "default": "#FFFBE6" },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1",
      "options": [
        { "value": "", "label": "Theme default" },
        { "value": "scheme-1", "label": "Scheme 1" },
        { "value": "scheme-2", "label": "Scheme 2" },
        { "value": "scheme-3", "label": "Scheme 3" },
        { "value": "scheme-4", "label": "Scheme 4" },
        { "value": "scheme-5", "label": "Scheme 5" }
      ]
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 12
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 12
    }
  ],
  "presets": [{ "name": "Custom article nav" }]
}
{% endschema %}
